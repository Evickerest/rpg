<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>rpg.Classes.gamehandler API documentation</title>
<meta name="description" content="Module for the GameHandler class." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>rpg.Classes.gamehandler</code></h1>
</header>
<section id="section-intro">
<p>Module for the GameHandler class.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Module for the GameHandler class.
&#34;&#34;&#34;
import math
import time
import tkinter
from Classes.GUI.FightGUI import FightGUI
from Classes.GUI.MainGui import MainGUI
from Classes.GUI.ChestGUI import ChestGUI
from Classes.GUI.ShopGUI import ShopGUI
from Classes.character import Player
from Classes.Map.map import Map


class GameHandler:
    &#34;&#34;&#34;Manages the various game events.
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;Creates the instance.
        &#34;&#34;&#34;
        self.player = Player(&#34;Default&#34;, {&#34;Strength&#34;: 5, &#34;Dexterity&#34;: 5, &#34;Vitality&#34;: 5,
                                         &#34;Intelligence&#34;: 5, &#34;Level&#34;: 1, &#34;XP&#34;: 0, &#34;Stat Points&#34;: 5,
                                         &#34;Credits&#34;: 0})
        self.map = Map()
        self.GUI = None
        self.FightGUI = None
        self.ShopGUI = None
        self.ChestGUI = None

        # Overall game stats
        self.initial_time = time.time()
        self.total_enemies_killed = 0
        self.total_rooms_entered = 0

        MainGUI(self.player, self)

    def start_new_game(self):
        &#34;&#34;&#34;Starts a new game.
        &#34;&#34;&#34;
        old_name = self.player.name
        self.player = Player(old_name, {&#34;Strength&#34;: 5, &#34;Dexterity&#34;: 5, &#34;Vitality&#34;: 5,
                                        &#34;Intelligence&#34;: 5, &#34;Level&#34;: 1, &#34;XP&#34;: 0, &#34;Stat Points&#34;: 5,
                                        &#34;Credits&#34;: 0})
        # Reset game stats
        self.initial_time = time.time()
        self.total_enemies_killed = 0
        self.total_rooms_entered = 0

        self.map = Map()
        self.GUI.create_main_gui()

    def get_map(self):
        &#34;&#34;&#34;Getter for the map attribute.
        Returns:
            map (Map): The Map instance.
        &#34;&#34;&#34;
        return self.map

    # For some reason python isn&#39;t happy if I set MainGUI above to a variable
    # so I have to do this
    def set_gui(self, gui):
        &#34;&#34;&#34;Setter for the GUI attribute.
        Args:
            gui (MainGUI): The MainGUI instance.
        &#34;&#34;&#34;
        self.GUI = gui
    
    def enter_room(self, room):
        &#34;&#34;&#34;Method to enter a different room.
        Args:
            room (Room): The room in the map to enter.
        Returns:
            None: If a room event is still ongoing. i.e. Another window is still active.
        &#34;&#34;&#34;
        self.map.set_current_room(room)
        self.GUI.display_buttons()

        if room.cleared:
            self.GUI.enter_repeated_room(room)
            return
        
        self.total_rooms_entered += 1

        match room.room_type:
            case &#34;Combat&#34;:
                room.player = self.player
                room.lv_enemies()
                self.GUI.enter_combat_room(room)
                self.FightGUI = FightGUI(room, self.player, self)
            case &#34;Chest&#34;:
                self.GUI.enter_chest_room(room)
                self.ChestGUI = ChestGUI(room, self.player, self)
            case &#34;Shop&#34;:
                self.GUI.enter_shop_room(room)
                self.ShopGUI = ShopGUI(room, self.player, self)
            case &#34;Boss&#34;:
                self.GUI.enter_boss_room(room)
                self.FightGUI = FightGUI(room, self.player, self)
            case &#34;Start&#34;:
                room.clear_room(True)

    def exit_room(self, room):
        &#34;&#34;&#34;Method to exit a room.
        Args:
            room (Room): Room instance to exit.
        &#34;&#34;&#34;
        room.clear_room(True)

        if room.room_type == &#34;Boss&#34;:
            self.GUI.exit_boss_room()
            self.total_enemies_killed += 1
        elif room.room_type == &#34;Combat&#34;:
            self.total_enemies_killed += room.enemies_killed
            self.GUI.exit_combat_room(room)
        else:
            self.GUI.exit_room(room)

    def end_game(self, is_game_won: bool):
        &#34;&#34;&#34;Ends the game and display corresponding GUI.
        Args:
            is_game_won (bool): If the game has been won or lost.
        &#34;&#34;&#34;
        
        # Display to player total time spent 
        total_time = math.trunc(time.time() - self.initial_time)

        if is_game_won:
            self.GUI.display_game_won_gui(total_time, self.total_enemies_killed,
                                          self.total_rooms_entered)
        else:
            self.GUI.display_game_lost_gui(total_time, self.total_enemies_killed,
                                           self.total_rooms_entered)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="rpg.Classes.gamehandler.GameHandler"><code class="flex name class">
<span>class <span class="ident">GameHandler</span></span>
</code></dt>
<dd>
<div class="desc"><p>Manages the various game events.</p>
<p>Creates the instance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GameHandler:
    &#34;&#34;&#34;Manages the various game events.
    &#34;&#34;&#34;
    def __init__(self):
        &#34;&#34;&#34;Creates the instance.
        &#34;&#34;&#34;
        self.player = Player(&#34;Default&#34;, {&#34;Strength&#34;: 5, &#34;Dexterity&#34;: 5, &#34;Vitality&#34;: 5,
                                         &#34;Intelligence&#34;: 5, &#34;Level&#34;: 1, &#34;XP&#34;: 0, &#34;Stat Points&#34;: 5,
                                         &#34;Credits&#34;: 0})
        self.map = Map()
        self.GUI = None
        self.FightGUI = None
        self.ShopGUI = None
        self.ChestGUI = None

        # Overall game stats
        self.initial_time = time.time()
        self.total_enemies_killed = 0
        self.total_rooms_entered = 0

        MainGUI(self.player, self)

    def start_new_game(self):
        &#34;&#34;&#34;Starts a new game.
        &#34;&#34;&#34;
        old_name = self.player.name
        self.player = Player(old_name, {&#34;Strength&#34;: 5, &#34;Dexterity&#34;: 5, &#34;Vitality&#34;: 5,
                                        &#34;Intelligence&#34;: 5, &#34;Level&#34;: 1, &#34;XP&#34;: 0, &#34;Stat Points&#34;: 5,
                                        &#34;Credits&#34;: 0})
        # Reset game stats
        self.initial_time = time.time()
        self.total_enemies_killed = 0
        self.total_rooms_entered = 0

        self.map = Map()
        self.GUI.create_main_gui()

    def get_map(self):
        &#34;&#34;&#34;Getter for the map attribute.
        Returns:
            map (Map): The Map instance.
        &#34;&#34;&#34;
        return self.map

    # For some reason python isn&#39;t happy if I set MainGUI above to a variable
    # so I have to do this
    def set_gui(self, gui):
        &#34;&#34;&#34;Setter for the GUI attribute.
        Args:
            gui (MainGUI): The MainGUI instance.
        &#34;&#34;&#34;
        self.GUI = gui
    
    def enter_room(self, room):
        &#34;&#34;&#34;Method to enter a different room.
        Args:
            room (Room): The room in the map to enter.
        Returns:
            None: If a room event is still ongoing. i.e. Another window is still active.
        &#34;&#34;&#34;
        self.map.set_current_room(room)
        self.GUI.display_buttons()

        if room.cleared:
            self.GUI.enter_repeated_room(room)
            return
        
        self.total_rooms_entered += 1

        match room.room_type:
            case &#34;Combat&#34;:
                room.player = self.player
                room.lv_enemies()
                self.GUI.enter_combat_room(room)
                self.FightGUI = FightGUI(room, self.player, self)
            case &#34;Chest&#34;:
                self.GUI.enter_chest_room(room)
                self.ChestGUI = ChestGUI(room, self.player, self)
            case &#34;Shop&#34;:
                self.GUI.enter_shop_room(room)
                self.ShopGUI = ShopGUI(room, self.player, self)
            case &#34;Boss&#34;:
                self.GUI.enter_boss_room(room)
                self.FightGUI = FightGUI(room, self.player, self)
            case &#34;Start&#34;:
                room.clear_room(True)

    def exit_room(self, room):
        &#34;&#34;&#34;Method to exit a room.
        Args:
            room (Room): Room instance to exit.
        &#34;&#34;&#34;
        room.clear_room(True)

        if room.room_type == &#34;Boss&#34;:
            self.GUI.exit_boss_room()
            self.total_enemies_killed += 1
        elif room.room_type == &#34;Combat&#34;:
            self.total_enemies_killed += room.enemies_killed
            self.GUI.exit_combat_room(room)
        else:
            self.GUI.exit_room(room)

    def end_game(self, is_game_won: bool):
        &#34;&#34;&#34;Ends the game and display corresponding GUI.
        Args:
            is_game_won (bool): If the game has been won or lost.
        &#34;&#34;&#34;
        
        # Display to player total time spent 
        total_time = math.trunc(time.time() - self.initial_time)

        if is_game_won:
            self.GUI.display_game_won_gui(total_time, self.total_enemies_killed,
                                          self.total_rooms_entered)
        else:
            self.GUI.display_game_lost_gui(total_time, self.total_enemies_killed,
                                           self.total_rooms_entered)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="rpg.Classes.gamehandler.GameHandler.end_game"><code class="name flex">
<span>def <span class="ident">end_game</span></span>(<span>self, is_game_won: bool)</span>
</code></dt>
<dd>
<div class="desc"><p>Ends the game and display corresponding GUI.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>is_game_won</code></strong> :&ensp;<code>bool</code></dt>
<dd>If the game has been won or lost.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def end_game(self, is_game_won: bool):
    &#34;&#34;&#34;Ends the game and display corresponding GUI.
    Args:
        is_game_won (bool): If the game has been won or lost.
    &#34;&#34;&#34;
    
    # Display to player total time spent 
    total_time = math.trunc(time.time() - self.initial_time)

    if is_game_won:
        self.GUI.display_game_won_gui(total_time, self.total_enemies_killed,
                                      self.total_rooms_entered)
    else:
        self.GUI.display_game_lost_gui(total_time, self.total_enemies_killed,
                                       self.total_rooms_entered)</code></pre>
</details>
</dd>
<dt id="rpg.Classes.gamehandler.GameHandler.enter_room"><code class="name flex">
<span>def <span class="ident">enter_room</span></span>(<span>self, room)</span>
</code></dt>
<dd>
<div class="desc"><p>Method to enter a different room.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>room</code></strong> :&ensp;<code>Room</code></dt>
<dd>The room in the map to enter.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>If a room event is still ongoing. i.e. Another window is still active.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def enter_room(self, room):
    &#34;&#34;&#34;Method to enter a different room.
    Args:
        room (Room): The room in the map to enter.
    Returns:
        None: If a room event is still ongoing. i.e. Another window is still active.
    &#34;&#34;&#34;
    self.map.set_current_room(room)
    self.GUI.display_buttons()

    if room.cleared:
        self.GUI.enter_repeated_room(room)
        return
    
    self.total_rooms_entered += 1

    match room.room_type:
        case &#34;Combat&#34;:
            room.player = self.player
            room.lv_enemies()
            self.GUI.enter_combat_room(room)
            self.FightGUI = FightGUI(room, self.player, self)
        case &#34;Chest&#34;:
            self.GUI.enter_chest_room(room)
            self.ChestGUI = ChestGUI(room, self.player, self)
        case &#34;Shop&#34;:
            self.GUI.enter_shop_room(room)
            self.ShopGUI = ShopGUI(room, self.player, self)
        case &#34;Boss&#34;:
            self.GUI.enter_boss_room(room)
            self.FightGUI = FightGUI(room, self.player, self)
        case &#34;Start&#34;:
            room.clear_room(True)</code></pre>
</details>
</dd>
<dt id="rpg.Classes.gamehandler.GameHandler.exit_room"><code class="name flex">
<span>def <span class="ident">exit_room</span></span>(<span>self, room)</span>
</code></dt>
<dd>
<div class="desc"><p>Method to exit a room.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>room</code></strong> :&ensp;<code>Room</code></dt>
<dd>Room instance to exit.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def exit_room(self, room):
    &#34;&#34;&#34;Method to exit a room.
    Args:
        room (Room): Room instance to exit.
    &#34;&#34;&#34;
    room.clear_room(True)

    if room.room_type == &#34;Boss&#34;:
        self.GUI.exit_boss_room()
        self.total_enemies_killed += 1
    elif room.room_type == &#34;Combat&#34;:
        self.total_enemies_killed += room.enemies_killed
        self.GUI.exit_combat_room(room)
    else:
        self.GUI.exit_room(room)</code></pre>
</details>
</dd>
<dt id="rpg.Classes.gamehandler.GameHandler.get_map"><code class="name flex">
<span>def <span class="ident">get_map</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Getter for the map attribute.</p>
<h2 id="returns">Returns</h2>
<p>map (Map): The Map instance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_map(self):
    &#34;&#34;&#34;Getter for the map attribute.
    Returns:
        map (Map): The Map instance.
    &#34;&#34;&#34;
    return self.map</code></pre>
</details>
</dd>
<dt id="rpg.Classes.gamehandler.GameHandler.set_gui"><code class="name flex">
<span>def <span class="ident">set_gui</span></span>(<span>self, gui)</span>
</code></dt>
<dd>
<div class="desc"><p>Setter for the GUI attribute.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>gui</code></strong> :&ensp;<code>MainGUI</code></dt>
<dd>The MainGUI instance.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_gui(self, gui):
    &#34;&#34;&#34;Setter for the GUI attribute.
    Args:
        gui (MainGUI): The MainGUI instance.
    &#34;&#34;&#34;
    self.GUI = gui</code></pre>
</details>
</dd>
<dt id="rpg.Classes.gamehandler.GameHandler.start_new_game"><code class="name flex">
<span>def <span class="ident">start_new_game</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Starts a new game.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_new_game(self):
    &#34;&#34;&#34;Starts a new game.
    &#34;&#34;&#34;
    old_name = self.player.name
    self.player = Player(old_name, {&#34;Strength&#34;: 5, &#34;Dexterity&#34;: 5, &#34;Vitality&#34;: 5,
                                    &#34;Intelligence&#34;: 5, &#34;Level&#34;: 1, &#34;XP&#34;: 0, &#34;Stat Points&#34;: 5,
                                    &#34;Credits&#34;: 0})
    # Reset game stats
    self.initial_time = time.time()
    self.total_enemies_killed = 0
    self.total_rooms_entered = 0

    self.map = Map()
    self.GUI.create_main_gui()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="rpg.Classes" href="index.html">rpg.Classes</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="rpg.Classes.gamehandler.GameHandler" href="#rpg.Classes.gamehandler.GameHandler">GameHandler</a></code></h4>
<ul class="two-column">
<li><code><a title="rpg.Classes.gamehandler.GameHandler.end_game" href="#rpg.Classes.gamehandler.GameHandler.end_game">end_game</a></code></li>
<li><code><a title="rpg.Classes.gamehandler.GameHandler.enter_room" href="#rpg.Classes.gamehandler.GameHandler.enter_room">enter_room</a></code></li>
<li><code><a title="rpg.Classes.gamehandler.GameHandler.exit_room" href="#rpg.Classes.gamehandler.GameHandler.exit_room">exit_room</a></code></li>
<li><code><a title="rpg.Classes.gamehandler.GameHandler.get_map" href="#rpg.Classes.gamehandler.GameHandler.get_map">get_map</a></code></li>
<li><code><a title="rpg.Classes.gamehandler.GameHandler.set_gui" href="#rpg.Classes.gamehandler.GameHandler.set_gui">set_gui</a></code></li>
<li><code><a title="rpg.Classes.gamehandler.GameHandler.start_new_game" href="#rpg.Classes.gamehandler.GameHandler.start_new_game">start_new_game</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>